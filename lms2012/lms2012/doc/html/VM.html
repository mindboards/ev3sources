<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>$title</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="$relpath/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="$relpath/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>

<table><tr><td><img class="header" src="LEGO.jpg"></td><td><h1>&nbsp;&nbsp;&nbsp;LEGO Mindstorms EV3</h1></td></tr></table><hr size="1"/>
<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">Firmware Documentation</a>      </li>
      <li class="navelem"><a class="el" href="buildinapps.html">Apps</a>      </li>
      <li class="navelem"><a class="el" href="makingapps.html">Making Apps with the &quot;lmsasm&quot; Tool</a>      </li>
      <li class="navelem"><a class="el" href="lmsassembler.html">lmsasm tool</a>      </li>
      <li class="navelem"><a class="el" href="bytecodes.html">Byte Codes</a>      </li>
    </ul>
  </div>
</div>
<div class="contents">
<div class="textblock"><hr/>
 <b> opERROR </b></p>
<ul>
<li>This code does not exist in normal program<br/>
</li>
<li>Dispatch status changes to INSTRBREAK</li>
</ul>
<hr/>
 <b> opNOP </b></p>
<ul>
<li>This code does absolutely nothing<br/>
</li>
</ul>
<hr/>
 <b> opPROGRAM_STOP (PRGID)</b></p>
<ul>
<li>Stops specific program id slot<br/>
</li>
<li>Dispatch status changes to PRGBREAK</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program id (GUI_SLOT = all, CURRENT_SLOT = current) (see <a class="el" href="programid.html#prgid">prgid</a>)</td></tr>
  </table>
  </dd>
</dl>
<hr/>
 <b> opPROGRAM_START (PRGID, SIZE, *IP, DEBUG)</b></p>
<ul>
<li>Start program id slot<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program id (see <a class="el" href="programid.html#prgid">prgid</a>) </td></tr>
    <tr><td class="paramname">(DATA32)</td><td>SIZE - Size of image<br/>
 </td></tr>
    <tr><td class="paramname">(DATA32)</td><td>*IP - Address of image (value from opFILE(LOAD_IMAGE,..) ) </td></tr>
    <tr><td class="paramname">(DATA8)</td><td>DEBUG - Debug mode (0=normal, 1=debug, 2=don't execute)</td></tr>
  </table>
  </dd>
</dl>
<hr/>
 <b> opOBJECT_STOP (OBJID)</b></p>
<ul>
<li>Stops specific object<br/>
</li>
<li>Dispatch status changes to STOPBREAK</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>OBJID - Object id</td></tr>
  </table>
  </dd>
</dl>
<hr/>
 <b> opOBJECT_START (OBJID)</b></p>
<ul>
<li>Start specific object<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>OBJID - Object id</td></tr>
  </table>
  </dd>
</dl>
<hr/>
 <b> opOBJECT_TRIG (OBJID)</b></p>
<ul>
<li>Triggers object and run the object if fully triggered<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>OBJID - Object id</td></tr>
  </table>
  </dd>
</dl>
<hr/>
 <b> opOBJECT_WAIT (OBJID)</b></p>
<ul>
<li>Wait until object has run<br/>
</li>
<li>Dispatch status can change to BUSYBREAK</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>OBJID - Object id</td></tr>
  </table>
  </dd>
</dl>
<hr/>
 <b> opRETURN </b></p>
<ul>
<li>Return from byte code subroutine<br/>
</li>
<li>Dispatch status changes to STOPBREAK</li>
</ul>
<hr/>
 <b> opCALL (OBJID, PARAMETERS, ....)</b></p>
<ul>
<li>Calls byte code subroutine<br/>
</li>
<li>Dispatch status changes to STOPBREAK or BUSYBREAK</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>OBJID - Object id </td></tr>
    <tr><td class="paramname">(DATA8)</td><td>PARAMETERS - Number of parameters<br/>
</td></tr>
  </table>
  </dd>
</dl>
<ul>
<li><a class="el" href="parameterencoding.html">Parameter Encoding</a></li>
</ul>
<hr/>
 <b> opOBJECT_END </b></p>
<ul>
<li>Stops current object<br/>
</li>
<li>Dispatch status changes to STOPBREAK</li>
</ul>
<hr/>
 <b> opSLEEP </b></p>
<ul>
<li>Breaks execution of current VMTHREAD<br/>
</li>
<li>Dispatch status changes to INSTRBREAK</li>
</ul>
<hr/>
 <b> opPROGRAM_INFO (CMD, PRGID, DATA)</b></p>
<ul>
<li>Get program data<br/>
</li>
<li>Dispatch status can change to FAILBREAK</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>CMD - <a class="el" href="programinfosubcode.html">Specific command parameter</a></td></tr>
  </table>
  </dd>
</dl>
<p><br/>
</p>
<ul>
<li>CMD = OBJ_STOP<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program slot number (see <a class="el" href="programid.html#prgid">prgid</a>)</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>OBJID - Object id<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = OBJ_START<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program slot number (see <a class="el" href="programid.html#prgid">prgid</a>)</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>OBJID - Object id<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_STATUS<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program slot number (see <a class="el" href="programid.html#prgid">prgid</a>)</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) DATA - Program status<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_PRGRESULT<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program slot number (see <a class="el" href="programid.html#prgid">prgid</a>)</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) DATA - Program result [OK, BUSY, FAIL]<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_SPEED<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program slot number (see <a class="el" href="programid.html#prgid">prgid</a>)</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA32) DATA - Program speed [instr/S]<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
</ul>
<hr/>
 <b> opLABEL (NO)</b></p>
<ul>
<li>This code does nothing besides marking an address to a label<br/>
</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NO - Label number</td></tr>
  </table>
  </dd>
</dl>
<hr/>
 <b> opPROBE (PRGID, OBJID, OFFSET, SIZE)</b></p>
<ul>
<li>Display globals or object locals on terminal<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program slot number (see <a class="el" href="programid.html#prgid">prgid</a>) </td></tr>
    <tr><td class="paramname">(DATA16)</td><td>OBJID - Object id (zero means globals) </td></tr>
    <tr><td class="paramname">(DATA32)</td><td>OFFSET - Offset (start from) </td></tr>
    <tr><td class="paramname">(DATA32)</td><td>SIZE - Size (length of dump) zero means all (max 1024)</td></tr>
  </table>
  </dd>
</dl>
<hr/>
 <b> opDO (PRGID, IMAGE)</b></p>
<ul>
<li>Run byte code snippet<br/>
</li>
<li>Dispatch status can change to BUSYBREAK</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program slot number </td></tr>
    <tr><td class="paramname">(DATA32)</td><td>*IMAGE - Address of image </td></tr>
    <tr><td class="paramname">(DATA32)</td><td>*GLOBAL - Address of global variables</td></tr>
  </table>
  </dd>
</dl>
<hr/>
 <b> opBP0 - opBP3 </b></p>
<ul>
<li>Display globals or object locals on terminal<br/>
</li>
<li>Removes it self when done</li>
<li>Dispatch status unchanged</li>
</ul>
<hr/>
 <b> opBP_SET (PRGID, NO, ADDRESS)</b></p>
<ul>
<li>Set break point in byte code program<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program slot number (see <a class="el" href="programid.html#prgid">prgid</a>) </td></tr>
    <tr><td class="paramname">(DATA8)</td><td>NO - Breakpoint number [0..2] (3 = trigger out on TP4) </td></tr>
    <tr><td class="paramname">(DATA32)</td><td>ADDRESS - Address (Offset from start of image) (0 = remove breakpoint)</td></tr>
  </table>
  </dd>
</dl>
<hr/>
 <b> opRANDOM (MIN, MAX, VALUE)</b></p>
<ul>
<li>Get random value<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>MIN - Minimum value </td></tr>
    <tr><td class="paramname">(DATA16)</td><td>MAX - Maximum value </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>(DATA16) VALUE - Value</dd></dl>
<hr/>
 <b> opINFO (CMD, ....) </b></p>
<ul>
<li>Info functions entry<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>CMD - <a class="el" href="infosubcode.html">Specific command parameter</a></td></tr>
  </table>
  </dd>
</dl>
<p><br/>
</p>
<ul>
<li>CMD = SET_ERROR<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NUMBER - Error number<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_ERROR<ul>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) NUMBER - Error number<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = ERRORTEXT <br/>
 Convert error number to text string<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NUMBER - Error number<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>LENGTH - Maximal length of string returned (-1 = no check)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) DESTINATION - String variable or handle to string<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_VOLUME<ul>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) VALUE - Volume [0..100%]<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = SET_VOLUME<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>VALUE - Volume [0..100%]<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_MINUTES<ul>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) VALUE - Minutes to sleep [0..120min] (0 = ~)<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = SET_MINUTES<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>VALUE - Minutes to sleep [0..120min] (0 = ~)<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
</ul>
<hr/>
 <b> opSTRINGS (CMD, ....) </b></p>
<ul>
<li>String function entry<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>CMD - <a class="el" href="stringsubcode.html">Specific command parameter</a></td></tr>
  </table>
  </dd>
</dl>
<p><br/>
</p>
<ul>
<li>CMD = GET_SIZE <br/>
 Get size of string (not including zero termination)<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>SOURCE1 - String variable or handle to string<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA16) SIZE - Size<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = ADD <br/>
 Add two strings (SOURCE1 + SOURCE2 -&gt; DESTINATION)<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>SOURCE1 - String variable or handle to string<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>SOURCE2 - String variable or handle to string<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) DESTINATION - String variable or handle to string<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = COMPARE <br/>
 Compare two strings<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>SOURCE1 - String variable or handle to string<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>SOURCE2 - String variable or handle to string<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) RESULT - Result (0 = not equal, 1 = equal)<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = DUPLICATE <br/>
 Duplicate a string (SOURCE1 -&gt; DESTINATION)<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>SOURCE1 - String variable or handle to string<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) DESTINATION - String variable or handle to string<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = VALUE_TO_STRING <br/>
 Convert floating point value to a string (strips trailing zeroes)<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATAF)</td><td>VALUE - Value to write (if "nan" op to 4 dashes is returned: "----")<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>FIGURES - Total number of figures inclusive decimal point (FIGURES &lt; 0 -&gt; Left adjusted)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>DECIMALS - Number of decimals<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) DESTINATION - String variable or handle to string<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = NUMBER_TO_STRING <br/>
 Convert integer value to a string<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>VALUE - Value to write<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>FIGURES - Total number of figures<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) DESTINATION - String variable or handle to string<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = STRING_TO_VALUE <br/>
 Convert string to floating point value<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>SOURCE1 - String variable or handle to string<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATAF) VALUE - Value<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = STRIP <br/>
 Strip a string for spaces (SOURCE1 -&gt; DESTINATION)<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>SOURCE1 - String variable or handle to string<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) DESTINATION - String variable or handle to string<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = SUB <br/>
 Return DESTINATION: a substring from SOURCE1 that starts were SOURCE2 ends<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>SOURCE1 - String variable or handle to string<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>SOURCE2 - String variable or handle to string<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) DESTINATION - String variable or handle to string<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = VALUE_FORMATTED <br/>
 Convert floating point value to a formatted string<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATAF)</td><td>VALUE - Value to write<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>FORMAT - Format string variable or handle to string<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>SIZE - Total size of destination string<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) DESTINATION - String variable or handle to string<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = NUMBER_FORMATTED <br/>
 Convert integer number to a formatted string<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>NUMBER - Number to write<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>FORMAT - Format string variable or handle to string<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>SIZE - Total size of destination string<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) DESTINATION - String variable or handle to string<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
</ul>
<p><a class="el" href="stringexample1.html">Program Example</a></p>
<hr/>
 <b> opMEMORY_WRITE (PRGID, OBJID, OFFSET, SIZE, ARRAY)</b></p>
<ul>
<li>Write VM memory<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program slot number (must be running) (see <a class="el" href="programid.html#prgid">prgid</a>) </td></tr>
    <tr><td class="paramname">(DATA16)</td><td>OBJID - Object id (zero means globals) </td></tr>
    <tr><td class="paramname">(DATA32)</td><td>OFFSET - Offset (start from) </td></tr>
    <tr><td class="paramname">(DATA32)</td><td>SIZE - Size (length of array to write) </td></tr>
    <tr><td class="paramname">(DATA8)</td><td>ARRAY - First element of DATA8 array to write<br/>
</td></tr>
  </table>
  </dd>
</dl>
<p><a class="el" href="directcommands.html#opMEMORY_WRITE1">Direct command example</a></p>
<hr/>
 <b> opMEMORY_READ (PRGID, OBJID, OFFSET, SIZE, ARRAY)</b></p>
<ul>
<li>Read VM memory<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program slot number (must be running) (see <a class="el" href="programid.html#prgid">prgid</a>) </td></tr>
    <tr><td class="paramname">(DATA16)</td><td>OBJID - Object id (zero means globals) </td></tr>
    <tr><td class="paramname">(DATA32)</td><td>OFFSET - Offset (start from) </td></tr>
    <tr><td class="paramname">(DATA32)</td><td>SIZE - Size (length of array to read) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) ARRAY - First element of DATA8 array to receive data<br/>
</dd></dl>
<p><a class="el" href="directcommands.html#opMEMORY_READ1">Direct command example</a></p>
<hr/>
 <b> opPORT_CNV_OUTPUT (PortIn, Layer, Bitfield, Inverted)</b></p>
<ul>
<li>Convert encoded port to Layer and Bitfield<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>PortIn - EncodedPortNumber </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) Layer - Layer </dd>
<dd>
(DATA8) Bitfield - Bitfield </dd>
<dd>
(DATA8) Inverted - True if left/right motor are inverted (ie, C&amp;A)</dd></dl>
<hr/>
 <b> opPORT_CNV_INPUT (PortIn, Layer, PortOut)</b></p>
<ul>
<li>Convert encoded port to Layer and Port<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>PortIn - EncodedPortNumber </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) Layer - Layer </dd>
<dd>
(DATA8) PortOut - 0-index port for use with VM commands</dd></dl>
<hr/>
 <b> opNOTE_TO_FREQ (NOTE, FREQ)</b></p>
<ul>
<li>Convert note to tone<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NOTE - Note string (HND) (e.c. "C#4") </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>(DATA16) FREQ - Frequency [Hz]</dd></dl>
<hr/>
 <b> opSYSTEM(COMMAND, STATUS)</b></p>
<ul>
<li>Executes a system command<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>COMMAND - Command string (HND) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>(DATA32) STATUS - Return status of the command </dd></dl>
</div></div><!-- contents -->
<hr size="1"/><address style="text-align: center;">
LEGO&reg Robotics Firmware Documentation<br/>Confidential Information &copy 2013 The LEGO Group</address>
</body>
</html>
